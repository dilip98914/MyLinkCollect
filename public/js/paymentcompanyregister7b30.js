function registerSubmit(){var e=$("#baseurl").val()+"auth/paymentcreateAccount",o=$("#countryname").val(),a=$("#phonecode").val(),s="",l=$("#obmplanselect").val(),t=$("#obmplanstr").val(),n=$("#currency").val(),c=$("#totalmonth").val(),i=$("#cname").val().trim();if(!a)return toastr.error("Please select phone code"),!1;if(""!=$("#countryname").val()&&(o=$("#countryname").val()),s=""!=$("#locationselect").val()?$("#locationselect").val():"",""!=$("#location").val()&&(s=$("#location").val()),!$("#agree").prop("checked"))return toastr.error("Please check Terms & Conditions"),!1;if(!checkmailvalid($("#email").val()))return toastr.error("Please Enter business Email"),!1;if(!i)return toastr.error("Please Enter Company Name"),!1;var r=$("#email").val(),d={fname:$("#fname").val(),lname:$("#lname").val(),cname:i,phonecode:a,phone:$("#phone").val(),loginType:3,location:s,locationselect:s,currentcountry:o,locationId:"",planstr:t,email:r.toLowerCase().trim(),password:$("#password").val(),obmplanselect:l,currency:n,totalmonth:c};$("#registerbtn").prop("disabled",!0),$("#registerbtn").css({display:"none"}),$("#loginstt2").css({display:"block"}),$(".regloader").css({display:"inline-block"}),$.ajax({type:"POST",url:e,data:d,success:function(e){var o;"success"==e.confirmation?($(".regloader").css({display:"none"}),$("#registerbtn").css({display:"none"}),$("#loginstt2").css({display:"block"}),o="Thanks for your Registration. Please click on the email verification link sent at ",o+=$("#email").val(),toastr.success(o,"Success",{closeButton:!0,positionClass:"toast-bottom-left",timeOut:5e3}),localStorage.setItem("onbechmarktokenuser",e.token),localStorage.removeItem("obmredirection"),"free"==e.obmplanselect?setTimeout(function(){window.location="/onbench/business"},2e3):setTimeout(function(){window.location="/onbench/business/package/plan?checkoutstt=2"},2e3)):"required"==e.confirmation?($("#registerbtn").prop("disabled",!1),$(".regloader").css({display:"none"}),$("#registerbtn").css({display:"block"}),$("#loginstt2").css({display:"none"}),$("#"+e.focusid).focus(),toastr.error(e.message)):($("#registerbtn").prop("disabled",!1),$(".regloader").css({display:"none"}),$("#registerbtn").css({display:"block"}),$("#loginstt2").css({display:"none"}),toastr.error("Already Registered!!"))},error:function(e){$("#registerbtn").prop("disabled",!1),$(".regloader").css({display:"none"}),$("#registerbtn").css({display:"block"}),$("#loginstt2").css({display:"none"}),toastr.error("Already Registered!!")}})}function loginSubmit(){var e=$("#baseurl").val()+"auth/paymentlogin";$.ajax({type:"POST",url:e,data:{email:$("#email").val(),password:$("#password").val()},success:function(e){"success"==e.confirmation&&(e.data,localStorage.setItem("onbechmarktokenuser",e.token),window.location="/onbench/business")},error:function(e){toastr.error("Invalid login details!!")}})}function fieldcheck(e,o){var a=!1;"fname"==o&&($("#"+o).val()?(a=!0,$("#"+e).css({display:"none"})):($("#"+e).css({display:"block"}),a=!1)),"lname"==o&&($("#"+o).val()?(a=!0,$("#"+e).css({display:"none"})):($("#"+e).css({display:"block"}),a=!1)),"phonecode"==o&&($("#"+o).val()?(a=!0,$("#"+e).css({display:"none"})):($("#"+e).css({display:"block"}),a=!1)),"phone"==o&&(console.log($("#"+o).val()),/^(?:[1-9]\d*|\d)$/.test($("#"+o).val())?(a=!0,$("#"+e).css({display:"none"})):(a=!1,$("#"+e).css({display:"block"})),$("#"+o).val().length<10||12<$("#"+o).val().length?(a=!1,$("#"+e).css({display:"block"})):(a=!0,$("#"+e).css({display:"none"}))),"email"==o&&($("#"+o).val()?(a=!0,/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test($("#"+o).val())?(a=!0,$("#"+e).css({display:"none"})):(a=!1,$("#"+e).css({display:"block"}))):(a=!1,$("#"+e).css({display:"block"})),checkmailvalid($("#"+o).val())?(a=!0,$("#bemailstt").css({display:"none"})):(a=!1,$("#bemailstt").css({display:"block"}))),"password"==o&&($("#"+o).val()?(a=!0,$("#"+e).css({display:"none"})):($("#"+e).css({display:"block"}),a=!1)),"cname"==o&&($("#"+o).val()?(a=!0,$("#"+e).css({display:"none"})):($("#"+e).css({display:"block"}),a=!1)),a&&""!=$("#fname").val()&&""!=$("#lname").val()&&""!=$("#phonecode").val()&&""!=$("#phone").val()&&""!=$("#email").val()&&""!=$("#password").val()&&""!=$("#cname").val()?$("#registerbtn").prop("disabled",!1):$("#registerbtn").prop("disabled",!0)}function cancellogin(){$("#alreadtstt").css({display:"block"}),$("#alreadtstt2").css({display:"none"})}function logoutotherdevice(){$.ajax({type:"POST",url:"http://localhost:3001/auth/logoutalldevice",data:{email:$("#email").val(),password:$("#password").val()},success:function(e){"success"==e.confirmation&&loginSubmit()},error:function(e){toastr.error("Please Try After Sometime!!")}})}function checkmailvalid2(e){var o=[];if(0<e.indexOf("@"))return o=e.split("@"),!(0<["hotmail.com","yahoo.com","yahoo.co.in","aol.com","abc.com","xyz.com","pqr.com","rediff.com","rediffmail.com","live.com","outlook.com","msn.com","me.com","ymail.com","gmail.com"].filter(function(e){return e==o[1].toLowerCase()}).length)}function checkmailvalid(e){var o=[];if(0<e.indexOf("@"))return o=e.split("@"),!(0<["hotmail.com","yahoo.com","yahoo.co.in","aol.com","abc.com","xyz.com","pqr.com","rediff.com","rediffmail.com","live.com","outlook.com","msn.com","me.com","ymail.com","gmail.com"].filter(function(e){return e==o[1].toLowerCase()}).length)}function get_city(e){var o={city_name:{$regex:"^"+e,$options:"i"}},a=$("#baseurl").val()+"notoken/city?filter=";$(".city_loader").css({display:"block"}),$.ajax({type:"GET",url:a+JSON.stringify(o),success:function(e){var o=e.data;$(".city_loader").css({display:"none"});var a,s;html='<span class="closecity" onclick="closecity()"> X</span>';for(var l=0;l<o.length;l++)0,a=o[l].city_name.replace(/\s/g,"-"),s=o[l].country_id.country_name.replace(/\s/g,"-"),html+='<a  onclick=setvalue("'+a+'","'+o[l]._id+'",'+l+',"'+s+'")>',html+=o[l].city_name+"("+o[l].country_id.country_name+")",html+="</a>";html+='<a  href="javascript:void(0)" onclick="setOther()">Other City</a>',$(".displayblock").css({display:"block"}).html(html)},error:function(e){$(".city_loader").css({display:"none"})}})}function closecity(){$(".displayblock").css({display:"none"})}function setvalue(e,o,a,s){$("#locationselect").val(e.replace(/-/g," ")),$("#countryname").val(s.replace(/-/g," ")),$(".displayblock").css({display:"none"})}function setOther(){$("#otherlocation").css({display:"none"}),$("#otherlocation2").css({display:"block"})}function resetdata(){$("#otherlocation").css({display:"block"}),$("#otherlocation2").css({display:"none"}),$(".displayblock").css({display:"none"}),$("#locationselect").val("")}function isNumber(e){var o=(e=e||window.event).which?e.which:e.keyCode;return!(31<o&&(o<48||57<o))}function loginSubmitlogin(){var s=$("#baseurl").val(),e=s+"auth/paymentlogin";$("#loginstt").css({display:"none"}),$("#loginstt2").css({display:"inline-block"});var o=$("#obmplanselect").val(),a=$("#currency").val(),l=$("#totalmonth").val();$.ajax({type:"POST",url:e,data:{email:$("#email").val().toLowerCase(),password:$("#password").val(),obmplanselect:o,currency:a,totalmonth:l},success:function(e){var o,a;$("#loginstt").css({display:"block"}),$("#loginstt2").css({display:"none"}),"success"==e.confirmation?(o=e.data,localStorage.setItem("onbechmarktokenuser",e.token),1!=o.loginType?(a=$("#redirection").val(),window.location=a?a.replace("&amp;","&"):s+"onbench/business"):window.location=s+"onbench/admin"):"Pending"==e.confirmation?toastrService.error(e.message):"emailverify"===e.confirmation?toastr.error("Please verify your email ,sent to your registered email id"):"invalid"==e.confirmation?toastr.error(e.message):"already"==e.confirmation?($("#alreadtstt").css({display:"none"}),$("#alreadtstt2").css({display:"block"}),toastr.error("You Are Login already , other device")):toastr.error("Your profile has been In-active, So please contact to support")},error:function(e){$("#loginstt").css({display:"block"}),$("#loginstt2").css({display:"none"}),toastr.error("Invalid login details!!")}})}function loginfieldcheck(e,o){var a=!1;"email"==o&&($("#"+o).val()?(a=!0,/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test($("#"+o).val())?(a=!0,$("#"+e).css({display:"none"})):(a=!1,$("#"+e).css({display:"block"}))):(a=!1,$("#"+e).css({display:"block"}))),"password"==o&&($("#"+o).val()?(a=!0,$("#"+e).css({display:"none"})):($("#"+e).css({display:"block"}),a=!1)),a&&""!=$("#email").val()&&""!=$("#password").val()?$("#loginbtn").prop("disabled",!1):$("#loginbtn").prop("disabled",!0)}function logincancellogin(){$("#alreadtstt").css({display:"block"}),$("#alreadtstt2").css({display:"none"})}function loginlogoutotherdevice(){var e=$("#baseurl").val()+"auth/logoutalldevice";$.ajax({type:"POST",url:e,data:{email:$("#email").val(),password:$("#password").val()},success:function(e){"success"==e.confirmation&&loginSubmitlogin()},error:function(e){toastr.error("Please Try After Sometime!!")}})}function searchcountry(e){var o=e;console.log("input",o),o?isNaN(o)?(o=e.toLowerCase(),$(".list-all-code").each(function(){-1!=$(this).attr("relcountry").toLowerCase().indexOf(o)?$(this).css({display:"block"}):$(this).css({display:"none"})})):(o=parseInt(e),$(".list-all-code").each(function(){parseInt($(this).attr("relcode"))!=o?$(this).css({display:"none"}):$(this).css({display:"block"})})):$(".list-all-code").each(function(){$(this).css({display:"block"})})}function setcountrycode(e,o,a){var s="<img src='"+$("#baseurl").val()+"images/flags/16size/"+o+"'/> + "+e;console.log(s),$("#sltpc").html(s),$("#countryname").val($("#"+a).attr("relc")),$("#phonecode").val(e)}function getcountrycode(){var t=$("#baseurl").val(),e=t+"auth/getcountrycode";$.ajax({type:"GET",url:e,success:function(e){for(var o,a="",s=e.countrylist,l=0;l<s.length;l++)a+='<li class="list-all-code" style="display: block;" flag="'+s[l].images+'" relcode="'+s[l].phoneCode+'" relcountry="'+s[l].country_name+'">',a+='<a id="c_'+l+'_c" href="javascript:void(0)" relc="'+s[l].country_name+'" onclick=setcountrycode("'+s[l].phoneCode+'","'+s[l].images+'","c_'+l+'_c")>',a+='<img src="'+t+"images/flags/16size/"+s[l].images+'">&nbsp;+'+s[l].phoneCode+"&nbsp;"+s[l].country_name,a+=" </a>",a+="</li>";$(".dropdown-inner").html(a),null!=e.countrydata&&(o="<img src='"+t+"images/flags/16size/"+e.countrydata.images+"'/> + "+e.countrydata.phoneCode,$("#sltpc").html(o),$("#countryname").val(e.countrydata.country_name),$("#phonecode").val(e.countrydata.phoneCode))},error:function(e){}})}function changepwd(){"hide"==$(".toggle-password").attr("rel")?($(".toggle-password").attr("rel","show"),$(".view-pwd").css({display:"block"}),$(".hide-pwd").css({display:"none"}),$("#password").attr("type","text")):($(".toggle-password").attr("rel","hide"),$(".view-pwd").css({display:"none"}),$(".hide-pwd").css({display:"block"}),$("#password").attr("type","password"))}